# –ò—Ç–æ–≥–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π - –ø–µ—Ä–µ—Ö–æ–¥ —Å imageUrl –Ω–∞ images

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. API –∏ Actions
- [app/actions/find-products.ts](app/actions/find-products.ts) - –¥–æ–±–∞–≤–ª–µ–Ω `include` –¥–ª—è `images` –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤
- [app/api/ingredients/route.ts](app/api/ingredients/route.ts) - –¥–æ–±–∞–≤–ª–µ–Ω `include` –¥–ª—è `images` –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤

### 2. –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
- [shared/hooks/use-ingredients.ts](shared/hooks/use-ingredients.ts) - –∏–∑–º–µ–Ω–µ–Ω —Ç–∏–ø —Å `Ingredient[]` –Ω–∞ `IngredientWithImages[]`
- [shared/services/ingredients.ts](shared/services/ingredients.ts) - –∏–∑–º–µ–Ω–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø —Å `Ingredient[]` –Ω–∞ `IngredientWithImages[]`

### 3. Seed —Ñ–∞–π–ª
- –°–æ–∑–¥–∞–Ω [prisma/seed.ts](prisma/seed.ts) –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ë–î —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### –í–ê–ñ–ù–û! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–µ
–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã –≤ –ë–î, –Ω–æ –æ–Ω–∏ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã —Å–æ —Å—Ç–∞—Ä–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, –∏–º –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ç–∞–±–ª–∏—Ü—ã `ProductImage` –∏ `IngredientImage`.

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–µ—Ä–µ–∑–∞–ø–æ–ª–Ω–∏—Ç—å –ë–î —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
```bash
npm run seed
```
‚ö†Ô∏è **–í–ù–ò–ú–ê–ù–ò–ï**: –≠—Ç–æ —É–¥–∞–ª–∏—Ç –≤—Å–µ —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ!

### –í–∞—Ä–∏–∞–Ω—Ç 2: –î–æ–±–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ SQL
```sql
-- –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ –¥–æ–±–∞–≤—å—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
INSERT INTO "ProductImage" ("productId", "url", "sortOrder")
VALUES (ID_–ü–†–û–î–£–ö–¢–ê, '–ø—É—Ç—å/–∫/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é.jpg', 0);

-- –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞ –¥–æ–±–∞–≤—å—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ  
INSERT INTO "IngredientImage" ("ingredientId", "url", "sortOrder")
VALUES (ID_–ò–ù–ì–†–ï–î–ò–ï–ù–¢–ê, '–ø—É—Ç—å/–∫/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é.jpg', 0);
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –î–æ–±–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã.

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –µ—Å—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```sql
SELECT p.id, p.name, COUNT(pi.id) as images_count
FROM "Product" p
LEFT JOIN "ProductImage" pi ON pi."productId" = p.id
GROUP BY p.id, p.name;
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –µ—Å—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```sql
SELECT i.id, i.name, COUNT(ii.id) as images_count
FROM "Ingredient" i
LEFT JOIN "IngredientImage" ii ON ii."ingredientId" = i.id
GROUP BY i.id, i.name;
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏
```sql
SELECT 
  c.id, 
  c.name,
  COUNT(DISTINCT p.id) as products_count,
  COUNT(DISTINCT pi.id) as items_count
FROM "Category" c
LEFT JOIN "Product" p ON p."categoryId" = c.id
LEFT JOIN "ProductItem" pi ON pi."productId" = p.id
GROUP BY c.id, c.name;
```

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –î–æ (—Å—Ç–∞—Ä–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞):
```typescript
// ‚ùå –¢–∞–∫ –±–æ–ª—å—à–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
const product = {
  id: 1,
  name: "–¢–æ–≤–∞—Ä",
  imageUrl: "/image.jpg"  // –¢–∞–∫ –±—ã–ª–æ —Ä–∞–Ω—å—à–µ
}
```

### –ü–æ—Å–ª–µ (–Ω–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞):
```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
const product = {
  id: 1,
  name: "–¢–æ–≤–∞—Ä",
  images: [  // –¢–µ–ø–µ—Ä—å –º–∞—Å—Å–∏–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
    {
      id: 1,
      productId: 1,
      url: "/image.jpg",
      sortOrder: 0
    }
  ]
}

// –í –∫–æ–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–∞–∫:
product.images[0]?.url ?? '/no-image.png'
```

## üéØ –ü–æ—á–µ–º—É –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–æ–≥—É—Ç –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è

–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:
1. –£ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –µ—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã
2. –£ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –µ—Å—Ç—å items (ProductItem) - —ç—Ç–æ –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø—Ä–æ–¥—É–∫—Ç–∞ —Å —Ü–µ–Ω–∞–º–∏
3. –£ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –µ—Å—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª [app/(root)/page.tsx](app/(root)/page.tsx#L31-32):
```typescript
category.products.length > 0
```

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–∞ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ—Å–ª–µ –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ —É –Ω–µ—ë –æ—Å—Ç–∞–ª–∏—Å—å –ø—Ä–æ–¥—É–∫—Ç—ã —Å items.

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –†–µ—à–∏—Ç–µ, –∫–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ë–î –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ dev-—Å–µ—Ä–≤–µ—Ä: `npm run dev`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö —Ç–æ–≤–∞—Ä–æ–≤
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å —Ç–æ–≤–∞—Ä–∞–º–∏

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. [FIX_IMAGES.md](FIX_IMAGES.md)
